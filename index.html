<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Placówka SCP</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #121212; /* Kolor tła ciemny szary */
      color: #ffffff; /* Kolor tekstu biały */
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .countdown-container {
      text-align: center;
    }

    #countdown {
      font-size: 2em;
      margin-top: 20px;
      color: #00ff00; /* Kolor tekstu licznika, na przykład jasnozielony */
    }

    .video-caption {
      text-align: center;
      margin-top: 20px;
    }

    .video-caption p {
      font-size: 1.2em;
      font-weight: bold;
      color: #ff9900; /* Kolor tekstu napisu nad filmem, na przykład pomarańczowy */
    }

    .subscribers-count {
      font-size: 1.2em;
      margin-top: 20px;
    }

    .snake-game {
      width: 300px;
      height: 300px;
      border: 1px solid #fff;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <!-- Licznik czasu -->
  <div class="countdown-container">
    <h1>Licznik do nowego odcinka Marka</h1>
    <div id="countdown"></div>
  </div>

  <!-- Napis nad filmem -->
  <div class="video-caption">
    <p>1 odcinek Z Nowej Seri na kanale z moda NTM Extended na wersje 1.12.2 mam nadzieje że się podoba</p>
  </div>

  <!-- Film z YouTube -->
  <iframe width="1189" height="669" src="https://www.youtube.com/embed/gYIbjFriJm0" title="1 odcinek Z Nowej Seri na kanale z moda NTM Extended na wersje 1.12.2 mam nadzieje że się podoba" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

  <!-- Licznik subskrypcji -->
  <div id="subscribers-count" class="subscribers-count">Liczba subskrybentów: <span id="count">17</span></div>

  <!-- Snake Game -->
  <div id="snake-game" class="snake-game"></div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Ustaw klucz API (zastąp 'YOUR_API_KEY' własnym kluczem)
      const apiKey = 'AIzaSyDTaR-HhUd-lJmt_IrOkZkR-DfD2CPDP5E';

      // Ustaw identyfikator kanału (zastąp 'CHANNEL_ID' własnym ID kanału)
      const channelId = 'CHANNEL_ID';

      // Funkcja pobierająca liczbę subskrypcji z YouTube API
      function fetchSubscribersCount() {
        const apiUrl = `https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${channelId}&key=${apiKey}`;
        
        axios.get(apiUrl)
          .then(response => {
            const subscriberCount = response.data.items[0].statistics.subscriberCount;
            updateSubscribersCount(subscriberCount);
          })
          .catch(error => {
            console.error('Błąd podczas pobierania danych:', error);
          });
      }

      // Funkcja aktualizująca licznik subskrypcji na stronie
      function updateSubscribersCount(count) {
        const subscribersElement = document.getElementById('subscribers-count');
        if (subscribersElement) {
          subscribersElement.textContent = `Liczba subskrybentów: ${count}`;
        }
      }

      // Początkowe pobranie i ustawienie liczby subskrypcji
      fetchSubscribersCount();

      // Aktualizacja co 60 sekund (60000 milisekund)
      setInterval(fetchSubscribersCount, 60000);

      // Snake Game
      const snakeGameContainer = document.getElementById('snake-game');

      const canvas = document.createElement('canvas');
      canvas.width = 300;
      canvas.height = 300;
      canvas.style.border = '1px solid #fff';

      snakeGameContainer.appendChild(canvas);

      const ctx = canvas.getContext('2d');

      // Initial snake position
      let snake = [{ x: 10, y: 10 }];

      // Initial direction
      let dx = 1;
      let dy = 0;

      // Game loop
      function gameLoop() {
        // Update
        const head = { x: snake[0].x + dx, y: snake[0].y + dy };
        snake.unshift(head);

        // Draw
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        snake.forEach(segment => {
          ctx.fillStyle = '#00ff00';
          ctx.fillRect(segment.x * 10, segment.y * 10, 10, 10);
        });

        // Remove the tail if the snake is too long
        if (snake.length > 1) {
          snake.pop();
        }

        // Repeat the game loop
        requestAnimationFrame(gameLoop);
      }

      // Start the game loop
      gameLoop();

      // Handle keyboard input
      document.addEventListener('keydown', function (event) {
        switch (event.key) {
          case 'ArrowUp':
            dx = 0;
            dy = -1;
            break;
          case 'ArrowDown':
            dx = 0;
            dy = 1;
            break;
          case 'ArrowLeft':
            dx = -1;
            dy = 0;
            break;
          case 'ArrowRight':
            dx = 1;
            dy = 0;
            break;
        }
      });
    });
  </script>
</body>
</html>
